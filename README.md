# java-explore-with-me

Схема базы данных сепвиса stats-service:

![img.png](stats-service-db.png)

Схема базы данных сепвиса main-service: 

![img.png](main-service-db.png)

Функциональность фичи subscriptions: 

a. Для user добавлен параметр публичности профиля, по умолчанию для всех устанавливается true
b. Для user добавлен rest, позволяющий закрыть профиль, сделать приватным

1. добавление подписки <br>
1.1 если у пользователя открытый профиль (users.public_profile=true), подписка создается
автоматически со статусом ACTIVE, иначе OPEN. Когда пользователь ее одобрит, у подписки меняется статус с OPEN на ACTIVE.
2. получение событий по своим подпискам (подписки одобрены)
3. получение событий по своим подпискам (подписки не одобрены)
4. получение списка подписок подписчиком
5. получение списка подписок пользователем, у которого запросили подписку
6. одобрение запрошенной подписки
7. закрытие подписки со стороны подписчика 
8. закрытие подписки со стороны пользователя

Проверки:
1. дублирование подписки
2. подписка на самого себя


